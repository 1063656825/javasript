# 第一个 JS 程序

## 浏览器环境中，代码书写位置

1. 直接书写到页面中的 script 元素的内部
2. 书写到外部的 js 文件，在页面中引用 [推荐]

代码分离：内容、样式、功能，三者分离，更加容易维护和阅读

- 页面中，可以存在多个 script 元素，执行顺序从上到下
- 如果一个 script 元素引用了外部文件，内部不能书写任何代码
- script 元素有一个可选的属性，type，该属性用于指定代码的类型，该属性值是 MIME 格式

## 认识基本语法

- 语法部分必须都是英文符号
- js 代码由多条语句构成，每个语句用英文分号结束（并非强制要求）
- js 代码从上到下同步执行
- js 语言大小写敏感

## 认识输出语句

所有的输出语句都不是 ES 标准。

- document.write，该语句用于将数据输出到页面
- alert，该语句用于将数据用弹窗的形式显示到页面
- console.log，该语句用于将数据显示到控制台

## 认识输入语句

所有的输入语句都不是 ES 标准

## 认识注释

注释：提供给代码阅读者使用，不会参与执行

1. 单行注释 //
2. 多行注释 /\* \*/

在 VSCode 中，使用快捷键 ctrl + /，可以快速添加和取消单行注释
使用快捷键 alt + shift + a，可以快速添加和取消多行注释

# 数据和数据类型

数据：有用的信息

数据类型：数据的分类

本节课学习的是：不同类型的数据的字面量表示法

## JS 中的数据类型

学习 JS 中，不同数据类型的数据的书写方式

### 原始类型(基本类型)

原始类型指不可再细分的类型

1. 数字类型 number

直接书写即可

> 了解：
> 数字类型可以加上前缀，来表示不同的进制
> 0：表示 8 进制
> 0x：表示 16 进制
> 0b: 表示 2 进制

2. 字符串类型 string

字符串：一长串文本（0 个或多个）

- 单引号 '
- 双引号 "
- 飘，`，叫做模板字符串

在字符串中，如何表示一个特殊字符，可以使用转义符（\）

3. 布尔类型 boolean

布尔类型用于表达真或假两种状态

- true，表示真
- false，表示假

4. undefined 类型

表示未定义，不存在。

只有一种数据书写方式：undefined

5. null 类型

表示空，不存在。

只有一种数据书写方式：null

> 区分某些长数字和字符串: 如果按照数字的方式阅读，则使用数字类型；否则使用字符串类型

### 引用类型

引用类型有两种：

- 对象 object （事物，东西，玩意儿）

可以认为，对象，是由多个基本类型组合而成。

书写对象的格式见 test6.html

**属性**：对象的成员

- 函数（后续章节专门讲解）

## 得到数据的类型

在数据前加上 typeof

> js 的 bug（特征）： typeof null，得到的是 object

## 字面量

直接书写的具体的数据，叫做**字面量**

# 变量

## 什么是变量

变量是一块内存空间，用于保存数据

> 计算机：CPU、内存、硬盘、输入输出设备
> 内存：存取速度快，数据易丢失
> 硬盘：存取速度慢，数据永久保存
> 计算机程序的运行，仅与内存打交道

## 如何使用变量

1. 声明（定义）变量

```js
var 变量名
```

**变量声明后，它的值为 undefined**

2. 给变量赋值

向变量的内存空间中存放数据

- 变量的值是可变的

变量可以被重新赋值，新的值会覆盖原来的值

- 变量的名称

在开发中，凡是需要自行命名的位置，叫做标识符

标识符的规范：

1） [必]只能以英文字母、下划线、\$开头

2.  [必]其他位置可以出现数字、英文字母、下划线、\$
3.  [必]不可以与关键字、保留词重复
4.  [选]标识符应该做到望文知义
5.  [选]如果有多个单词，使用驼峰命名法，单词首字母大写

> 大驼峰：每个单词首字母大写
> 小驼峰：除第一个单词外，首字母大写
> 目前，使用的标识符都是小驼峰命名法。

> 宽度：width，高度：height，区域：area （quyu）

- 声明和赋值合并

变量的声明和赋值可以一条语句书写。

这是语法糖。

语法糖仅仅是为了方便代码书写或记忆，并不会有实质性的改变。

- 多个变量可以合并声明并赋值

语法糖

- **任何可以书写数据的地方，都可以书写变量**

- 若使用一个未声明的变量，会导致错误

例外：使用 typeof 得到类型时，可以是未声明的变量，得到的结果是 undefined

- **JS 中存在变量提升**

所有变量的声明，会自动的提到代码的最顶部

但是，这种提升，不会超越脚本块。

- JS 中允许定义多个同名变量

同名变量，提升后会变成一个。

# 变量和对象

原始类型：number、string、boolean、null、undefined

引用类型：object、function 函数

## 在变量中存放对象

1. 通过变量，读取对象中的某个属性

```js
变量名.属性名
```

**当读取的属性不存在时，会得到 undefined**

**当读取属性的对象不存在（undefined 或 null）时，程序报错**

2. 通过变量，更改对象中的某个属性

**当赋值的属性不存在时，会添加属性**

3. 删除属性

```js
delete 变量名.属性名
```

4. 属性表达式

给属性赋值，或读取属性时，可以使用下面的格式操作

```js
对象变量['属性名']
```

- 某些属性名中包含特殊字符

实际上，JS 对属性名的命名要求并不严格，属性可以是任何形式的名字

**属性的名字只能是字符串，如果你书写的是数字，会自动转换为字符串**

## 全局对象

JS 大部分的宿主环境，都会提供一个特殊的对象，该对象可以直接在 JS 代码中访问，该对象叫做全局对象

在浏览器环境中，全局对象为 window，表示整个窗口

全局对象中的所有属性，可以直接使用，而不需要写上全局对象名。

**开发者定义的所有变量，实际上，会成为 window 对象的属性。**

**如果变量没有被赋值，则该变量不会覆盖 window 对象上的同名属性。**

# 引用类型

原始类型 引用类型（对象、函数）

**原始类型的变量，存放的具体的值**

**引用类型的变量，存放的是内存地址**

**凡是出现对象字面量的位置，都一定在内存出现一个新的对象**

> 扩展知识：JS 中的垃圾回收
> 垃圾回收器，会定期的发现内存中无法访问到的对象，该对象称之为垃圾，垃圾回收器会在合适的时间将其占用的内存释放。

# 算术运算符

数学运算符

1. `+ - * /`
2. `+ -`
3. `%`
4. `++ --` (下节课讨论)
5. `**` 幂

## 细节

1. 数字运算是不精确的

2. 除数为 0

如果被除数是正数，得到结果 Infinity （正无穷）
如果被除数是负数，得到结果 -Infinity （负无穷）
如果被除数是 0，得到结果 NaN （Not a Number，非数字）

> typeof 函数返回类型为 string
> isNaN 函数，该函数用于判断一个数据是否是 NaN，返回 boolean
> isFinite 函数，该函数用于判断一个数据是否是有限的，返回 boolean

3. 求余

%，有的教程称之为求模

余数的符号，与被除数相同。

## 其他类型使用算术运算

1. 除加号之外的算术运算符

将原始类型转换为数字类型（自动完成转换），然后进行运算。

- boolean： true -> 1, false -> 0
- string: 如果字符串内部是一个正确的数字，直接变为数字，如果是一个非数字，则得到 NaN（能识别 Infinity，不能把字符串内部的东西当作表达式），如果字符串是一个空字符串（没有任何内容），转换为 0. 字符串转换时，会忽略前后空格。

  > NaN 虽然是数字，但它和任何数字作任何运算，得到的结果都是 NaN

- null：null -> 0
- undefined: undefined -> NaN

将对象类型先转换为字符串类型，然后再将该字符串转换为数字类型

对象类型 -> "[object Object]" -> NaN

2. 加号运算符

- 加号一边有字符串，含义变为字符串拼接

将另一边的其他类型，转换为字符串

数字 -> 数字字符串
boolean -> boolean 字符串
null -> "null"
undefined -> "undefined"
对象 -> "[object Object]"

- 加号两边都没有字符串，但一边有对象，将对象转换为字符串，然后按照上面的规则进行

- 其他情况和上面的数学运算一致

# 运算符概述

第 2 章：变量和数据类型，解决数据存放问题
第 3 章：运算符，解决数据运算的问题，面试题密集

## 操作符和操作数

操作符：运算符，参与运算的符号

操作数：参与运算的数据，也称之为“元”

操作符不一定只有一个符号

操作符出现在不同的位置，可能具有不同的含义

```js
1 - 2
;-1.2
```

目前接触的操作符：

1. `=`：赋值符号，将右边的数据赋值给左边
2. `.`: 访问符号，用于访问对象的属性
3. `[]`：访问符号，用于访问对象的属性
4. `()`：函数调用

## 分类

按操作数数量区分：

1. 一元（目）运算符：() . []
2. 二元（目）运算符: + - / \* % =
3. 三元（目）运算符: ?:

功能区分：

1. 算术运算符（数学）
2. 比较运算符
3. 逻辑运算符
4. 位运算符
5. 其他

## 表达式

表达式 = 操作符 + 操作数

每个表达式都有一个运算结果，该结果叫做**返回值**，返回值的类型叫做**返回类型**

所有的表达式都可以当作数据使用。

目前学习的运算符的返回值和类型

1. `=`：该表达式，返回赋值的结果
2. `.`：属性访问表达式，返回的是属性的值
3. `[]`：属性访问表达式，返回的是属性的值
4. `()`：函数调用表达式，返回的结果取决于函数的运行
5. 如果是一个声明+赋值的表达式，返回结果为 undefined。

console.log 函数调用的返回结果为 undefined

> chrome 浏览器控制台的环境是 REPL 环境
> REPL：Read Eval Print Loop，读-执行-打印-循环
> 当直接在控制台书写代码时，除了运行代码之外，还会输出该表达式的返回值

# 自增和自减

## 基本功能

一元运算符

++：将某个变量的值自增 1

--：将某个变量的值自减 1

## 细节

### 自增自减表达式

x++: 将变量 x 自增 1，得到的表达式的值是自增之前的值。
++x: 将变量 x 自增 1，得到的表达式的值是自增之后的值。
x--: 将变量 x 自减 1，得到的表达式的值是自减之前的值。
--x: 将变量 x 自减 1，得到的表达式的值是自减之后的值。

### 优先级

从高到底依次是：

1. `++ --`
2. `* / %`
3. `+ -`

优先级的运算细节：

1. 从左到右依次查看
2. 如果遇到操作数，将数据的值直接取出
3. 如果遇到相邻的两个运算符，并且左边的运算符优先级大于等于右边的运算符，则直接运行左边的运算符。

# 比较运算符

大小比较：> < >= <=
相等比较：== != === !==

**比较运算符的返回类型：boolean**

**算术运算符的优先级高于比较运算符**

## 大小比较

### 细节

1. 两个字符串比较大小，比较的是字符串的字符编码。

2. 如果一个不是字符串，并且两个都是原始类型，将它们都转换为数字进行比较

'1' -> 1
'' -> 0
' ' -> 0
' a' -> NaN
'3.14' -> 3.14

NaN 与任何数字比较，得到的结果都是 false

Infinity 比任何数字都大

-Infinity 比任何数字都小

3. 如果其中一个是对象，将对象转换为原始类型然后，按照规则 1 或规则 2 进行比较

目前，对象转换为原始类型后，是字符串 "[object Object]"

## 相等比较

### == 和 != (相等比较 和 不相等比较)

==: 比较两个数据是否相等
!=: 比较两个数据是否不相等

**细节**

1. 两端的类型相同，直接比较两个数据本身是否相同（两个对象比较的地址）

2. 两端的类型不同

1). null 和 undefined， 它们之间相等， 和其他原始类型比较， 则不相等。
2). 其他原始类型，比较时先转换为数字，再进行比较
3). NaN 与任何数字比较，都是 false，包括自身
4). Infinity 和-Infinity，自能和自身相等
5). 对象比较时，要先转换为原始类型后，再进行比较

**由于相等和不相等比较，对于不同类型的数据比较违反直觉，因此，通常我们不适用这种比较方式，而是使用更加接近直觉的严格相等和严格不相等比较**

### === 和 !== （严格相等 和 严格不相等）

=== ： 两端的数据和类型必须相同
!== ： 两端的数据或类型不相同

1. 两端类型相同，规则和相等比较一致。
2. 两端类型不同，为 false。

数字规则：

1). NaN 与任何数字比较，都是 false，包括自身
2). Infinity 和-Infinity，自能和自身相等

# 逻辑运算符

布尔运算符

## 与（并且）

符号：&&

书写方式： 表达式 1 && 表达式 2

1. 将表达式 1 进行 boolean 判定

以下数据均判定为 false：

1. null
2. undefined
3. false
4. NaN
5. ''
6. 0

其他数据全部为真

2. 如果表达式 1 的判定结果为假，则直接返回表达式 1，而不执行表达式 2；否则，返回表达式 2 的结果。 （短路规则）

## 或

符号：||

写法：表达式 1 || 表达式 2

1. 将表达式 1 进行 boolean 判定

2. 如果表达式 1 为真，直接返回表达式 1，不运行表达式 2；否则，返回表达式 2

## 非

符号：!

写法: !数据

一元运算符

将数据的 boolean 判定结果直接取反，非运算符一定返回 boolean 类型。

# 三目运算符

书写方式： 表达式 1 ? 表达式 2 : 表达式 3

1. 对表达式 1 进行 boolean 判定
2. 如果判定结果为真，返回表达式 2；否则，返回表达式 3。

# 补充知识

## 模板字符串

## 类型转换不会影响原本的数据

## 复合的赋值运算符

+= -= /= \*= %= \*\*=

## void 运算符

一元运算符

写法：

1. 普通写法： `void 表达式`
2. 函数写法： `void(表达式)`

运行表达式，然后返回 undefined

## typeof 运算符

一元运算符

写法：

1. 普通写法： `typeof 表达式`
2. 函数写法： `typeof(表达式)`

typeof 运算，返回表达式的类型，是一个字符串。

## 逗号运算符

写法：表达式 1, 表达式 2

依次运行两个表达式，返回表达式 2

逗号运算符的优先级比赋值更低
